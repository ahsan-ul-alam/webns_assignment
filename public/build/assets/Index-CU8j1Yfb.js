import{T as L,s as g,l as O,p as S,o as _,c as $,w as i,a as r,d as v,u as t,b as u,e as D,f as V,F as k,q as E,j as U,t as F,x as h,y as C,k as M,r as w}from"./app-CJjH5JfA.js";import{u as x,_ as T}from"./BaseModal-DhD6O_bo.js";import{_ as j,a as I}from"./BaseRadio-VOMqsBca.js";import{_ as A}from"./BaseInput-CedS8Wev.js";import{_ as y}from"./BaseButton-E4CvXj1D.js";import"./BasePagination-R-unnmCD.js";import"./index-Bb4qSo10.js";const q=u("h3",{class:"text-lg font-medium text-gray-900"}," Add label ",-1),H=u("label",{class:"block mb-2 text-sm font-medium text-gray-900"}," Is Visible? ",-1),R={class:"flex flex-wrap gap-6"},Y={__name:"CreateLabelModal",setup(m){const a=L({title:"",visible:!0}),s=x(),{createLabelModalOpen:d}=g(s);function o(){a.post(route("labels.store"),{preserveScroll:!0,onSuccess:()=>{d.value=!1,M().add({type:"success",message:"Label edited successfully"}),a.reset()}})}const f=[{id:"create-label-visible",value:!0,label:"Yes"},{id:"create-label-hidden",value:!1,label:"No"}],b=O(null);return S(d,n=>{n&&setTimeout(()=>{b.value.focus()},0)}),(n,e)=>(_(),$(T,{"is-open":t(d),"onUpdate:isOpen":e[4]||(e[4]=l=>C(d)?d.value=l:null),onOnClose:e[5]||(e[5]=l=>d.value=!1)},{header:i(()=>[q]),footer:i(()=>[r(y,{variant:"secondary",onClick:e[3]||(e[3]=l=>d.value=!1)},{default:i(()=>[v(" Cancel ")]),_:1}),r(y,{form:"create-label-form",type:"submit",isLoading:t(a).processing},{default:i(()=>[v(" Create ")]),_:1},8,["isLoading"])]),default:i(()=>[u("form",{id:"create-label-form",class:"grid gap-6",novalidate:"",onSubmit:D(o,["prevent"])},[r(A,{ref_key:"input",ref:b,autofocus:"",label:"Title",id:"create-label-name",type:"text",modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).title=l),"error-message":t(a).errors.title,onFocus:e[1]||(e[1]=l=>t(a).clearErrors("title"))},null,8,["modelValue","error-message"]),u("div",null,[H,u("div",R,[(_(),V(k,null,E(f,l=>r(j,{modelValue:t(a).visible,"onUpdate:modelValue":e[2]||(e[2]=c=>t(a).visible=c),option:l},null,8,["modelValue","option"])),64)),U(u("p",{class:"mt-2 text-sm text-red-600"},F(t(a).errors.visible),513),[[h,t(a).errors.visible]])])])],32)]),_:1},8,["is-open"]))}},z=u("h3",{class:"text-lg font-medium text-gray-900"}," Edit label ",-1),G=u("label",{class:"block mb-2 text-sm font-medium text-gray-900"}," Is Visible? ",-1),J={class:"flex flex-wrap gap-6"},K={__name:"EditLabelModal",props:{label:{type:[Object],required:!0,default:()=>({title:"",visible:!1})}},setup(m){const a=m;let s=L({...a.label});S(()=>a.label,e=>{s.defaults({...e}).reset()});const d=x(),{editLabelModalOpen:o}=g(d);function f(){const e=route("labels.update",{label:a.label});s.patch(e,{preserveScroll:!0,onSuccess:()=>{o.value=!1,M().add({type:"success",message:"Label updated successfully"}),s.reset()}})}const b=[{id:"edit-label-visible",value:!0,label:"Yes"},{id:"edit-label-hidden",value:!1,label:"No"}],n=O(null);return S(o,e=>{e&&setTimeout(()=>{n.value.focus()},0)}),(e,l)=>(_(),$(T,{"is-open":t(o),"onUpdate:isOpen":l[4]||(l[4]=c=>C(o)?o.value=c:null),onOnClose:l[5]||(l[5]=c=>o.value=!1)},{header:i(()=>[z]),footer:i(()=>[r(y,{variant:"secondary",onClick:l[3]||(l[3]=c=>o.value=!1)},{default:i(()=>[v(" Cancel ")]),_:1}),r(y,{form:"editLabelForm",type:"submit",isLoading:t(s).processing},{default:i(()=>[v(" Save ")]),_:1},8,["isLoading"])]),default:i(()=>[u("form",{id:"editLabelForm",class:"grid gap-6",novalidate:"",onSubmit:D(f,["prevent"])},[r(A,{ref_key:"input",ref:n,label:"Title",id:"editLabelTitle",type:"text",modelValue:t(s).title,"onUpdate:modelValue":l[0]||(l[0]=c=>t(s).title=c),"error-message":t(s).errors.title,onFocus:l[1]||(l[1]=c=>t(s).clearErrors("title"))},null,8,["modelValue","error-message"]),u("div",null,[G,u("div",J,[(_(),V(k,null,E(b,c=>r(j,{modelValue:t(s).visible,"onUpdate:modelValue":l[2]||(l[2]=p=>t(s).visible=p),option:c},null,8,["modelValue","option"])),64)),U(u("p",{class:"mt-2 text-sm text-red-600"},F(t(s).errors.visible),513),[[h,t(s).errors.visible]])])])],32)]),_:1},8,["is-open"]))}},P=u("h3",{class:"text-lg font-medium text-gray-900"}," Delete label ",-1),Q=u("div",null,[u("p",{class:"text-sm text-gray-600"}," This action cannot be undone. Do you want to proceed with the deletion? ")],-1),W={__name:"DeleteLabelModal",props:{label:{type:[Object],required:!0,default:()=>({title:"",visible:!1})}},setup(m){const a=m,s=L({}),d=x(),{deleteLabelModalOpen:o}=g(d);function f(){const b=route("labels.destroy",{label:a.label});s.delete(b,{preserveScroll:!0,onSuccess:()=>{o.value=!1,M().add({type:"success",message:"Label deleted successfully"}),s.reset()}})}return(b,n)=>(_(),$(T,{"is-open":t(o),"onUpdate:isOpen":n[1]||(n[1]=e=>C(o)?o.value=e:null),onOnClose:n[2]||(n[2]=e=>o.value=!1)},{header:i(()=>[P]),footer:i(()=>[r(y,{variant:"secondary",onClick:n[0]||(n[0]=e=>o.value=!1)},{default:i(()=>[v(" Cancel ")]),_:1}),r(y,{onClick:f,variant:"danger",class:"ms-3","is-loading":t(s).processing},{default:i(()=>[v(" Delete ")]),_:1},8,["is-loading"])]),default:i(()=>[Q]),_:1},8,["is-open"]))}},ne={__name:"Index",props:{labels:{type:[Object],default:()=>[]},filters:{type:[Object]}},setup(m){const a=[{key:"title",label:"Title"},{key:"slug",label:"Slug"},{key:"visible",label:"Is Visible"},{key:"actions",label:"Actions"}],s=x(),{createLabelModalOpen:d,editLabelModalOpen:o,deleteLabelModalOpen:f}=g(s),b=O();function n(p){b.value=p}function e(){d.value=!0}function l(p){o.value=!0,n(p)}function c(p){f.value=!0,n(p)}return(p,X)=>{const N=w("Head"),B=w("AuthenticatedLayout");return _(),V(k,null,[r(N,{title:"Labels"}),r(B,null,{default:i(()=>[r(I,{"table-id":"labels",placeholder:"Search",headers:a,data:m.labels,route:"labels.index",filters:m.filters,onOnCreate:e,onOnEdit:l,onOnDelete:c},{button:i(()=>[v(" Add ")]),_:1},8,["data","filters"])]),_:1}),r(t(Y)),r(t(K),{label:b.value},null,8,["label"]),r(t(W),{label:b.value},null,8,["label"])],64)}}};export{ne as default};
